package day0709;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.math.BigInteger;
import java.util.ArrayList;
import java.util.StringTokenizer;

//그룹 1 예시 경우만
public class SW_1242_1 {
	static String codenum[] = {"0001101", "0011001", "0000011", "0111101", "0100011", "0110001", "0101111", "0111011", "0110111", "0001011"};
	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		
		int T = Integer.parseInt(br.readLine());
		for(int t=1; t<=T; t++) {
			StringTokenizer st = new StringTokenizer(br.readLine());
			
			int N=0; //세로 100
			int M=0; //가로 26
			while(st.hasMoreTokens()) {
				N = Integer.parseInt(st.nextToken());
				M = Integer.parseInt(st.nextToken());
			}
			
			String allzero=br.readLine();
			
			boolean flag=false;
			//code가 있는 col 찾기
			StringBuffer code = new StringBuffer();
			StringBuffer code2 = new StringBuffer(); //중복code 비교 위한 버퍼
			for(int i=1; i<N; i++) {
				String s = br.readLine();
				if(s.equals(code2.toString())) {
					continue;
				}
				if(!s.equals(allzero)) {
					code.append(s);
					code2.append(s);
					code.reverse();
					
					//뒤에 0제거
					int index=0;
					while(true) {
						if(code.charAt(index)-'0'==0) {
							code.deleteCharAt(index);
						}else {
							break;
						}
						
					}
					code.reverse();
					
					//hex->dec
					BigInteger dec = new BigInteger(code.toString(), 16);
					
					//dec->bi
					String bi = dec.toString(2);
					
					//System.out.println(bi);
					System.out.println(bi.length());
				
				}
				
			}
			
			
			
			
			
			System.out.println("#"+t+" ");
		}
	}

}
